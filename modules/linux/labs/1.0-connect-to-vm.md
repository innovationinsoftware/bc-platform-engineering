# Connect to the remote Linux VM.

## Clone the lab repo in VS Code

### Step 1: Clone the repo

1. Open Visual Studio Code
2. In Visual Studio Code, click **Clone Repository** and paste `https://github.com/innovationinsoftware/bc-platform-engineering`
3. Hit **Enter**, and in the pop-up window, browse to `C:\Documents`
4. Click **Select as repository destination**
5. When prompted to open the cloned repo, choose **Open**.
6. After opening the folder, click the third icon in the left toolbar for source control. Next to **changes**, click the ellipses (three dots) and choose **pull**.

## Set up a remote SSH session in Visual Studio Code.

### Create the SSH configuration file.

The first thing needed is to install the Remote - SSH extension.
1. Open Visual Studio Code and click on the Extensions icon in the Activity Bar on the left side of the window.
2. Search for "Remote - SSH" in the Extensions Marketplace.
3. Click on the "Install" button to install the extension.
4. Once installed, you will see a new icon in the left sidebar that looks like a computer with a remote connection symbol.
5. Click on the icon to open the Remote Explorer.


In the Remote Explorer, hover your mouse cursor over **SSH**, click on the gear icon (⚙️) in the top right corner, and select the top option. This will open the SSH configuration file in a new editor tab.


### Add the SSH configuration for the lab servers.
Add the following lines to the SSH configuration file, replacing `<IP of Linux server from the spreadsheet>` with the actual IP address of your Linux server.

```plaintext
Host Linux
  HostName <IP of Linux server from the spreadsheet>
  IdentityFile ~/Documents/bc-platform-engineering/modules/linux/labs/keys/lab.pem
  User ec2-user
```

### Save the SSH configuration file.
Save the changes to the SSH configuration file and close it.


### Connect to the lab servers.
1. In the Remote Explorer, you should now see the entry for the Tower server under "SSH Targets."
2. Click on the entry to connect to the Linux server.
3. Visual Studio Code will open a new window connected to the Linux server.
4. When prompted for the Operating System, choose 'Linux'.
5. Accept the SSH fingerprint
6. You can now open a terminal in this new window and run commands on the Linux server.

### Create a working directory

In Visual Studio Code, you can create a new folder or file as if it was on your local machine.
Click **Open Folder** and select `/home/ec2-user`.

# Congrats! 
Congratulations! You have successfully connected to the remote Linux server using VS Code.
